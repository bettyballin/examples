const firebase = require('firebase');

const config = {
  // your firebase config here
};

firebase.initializeApp(config);

const db = firebase.database();

const buttonClicksByBrowserSession = {
  ".read": true,
  "$autoGeneratedID": {
    ".write": "auth.uid === $autoGeneratedID",
    ".validate": "newData.isNumber() && newData.val() === (data.val()||0)+1"
  }
};

db.ref('buttonClicksByBrowserSession').on('value', (data) => {
  console.log(data.val());
});

db.ref('buttonClicksByBrowserSession/$autoGeneratedID').set(1);